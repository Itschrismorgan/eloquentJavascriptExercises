<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Exercise 14.2 - Mouse Trails</title>
    <style>
        .trail { /* className for the trail elements */
            position: absolute;
            height: 6px; width: 6px;
            border-radius: 3px;
            background: teal;
        }
        body {
            height: 300px;
        }
    </style>
</head>
<body>
    <script>
        var mouseTrailGap = false;
        var mouseTrailCounter = 0;

        addEventListener("mousemove", function(event){
            if(!mouseTrailGap){
                mouseTrailGap = true;
                var trailDiv = document.createElement("div");
                trailDiv.className = "trail";
                trailDiv.style.left = (event.pageX - 3 )+"px";
                trailDiv.style.top  = (event.pageY - 3 )+"px";
                var divId = "mouseTrailID"+mouseTrailCounter;
                trailDiv.id = divId;
                document.body.appendChild(trailDiv);
                setTimeout(function(){
                    mouseTrailGap = false;
                },25);
                setTimeout(function(divId){
                    //console.log(divId);
                    var nodeToRemove = document.getElementById(divId);
                    //console.log(nodeToRemove);
                    nodeToRemove.parentNode.removeChild(nodeToRemove);
                },25*30,divId);
                mouseTrailCounter++;
                if (mouseTrailCounter >= 1000){
                    mouseTrailCounter = 0;
                }
            }
        });
        // Your code here.
    </script>
</body>
</html>